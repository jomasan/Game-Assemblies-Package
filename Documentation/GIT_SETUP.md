# Git Setup Guide for Game Assemblies

This guide explains how to properly set up Git for your Unity project, focusing on committing code and tutorials.

## Prerequisites

- Git installed on your system
- Unity project with Game Assemblies library
- GitHub account (if pushing to GitHub)

## Unity Project Settings

Before committing, configure Unity to work properly with Git:

### 1. Enable Visible Meta Files

1. Open Unity Editor
2. Go to **Edit → Project Settings → Editor**
3. Under **Version Control**, set:
   - **Version Control Mode**: Visible Meta Files
   - **Asset Serialization**: Force Text

**Why**: This ensures `.meta` files are visible and assets are saved as text (YAML), making them mergeable and Git-friendly.

### 2. Verify Project Settings

Ensure these folders are present in your project:
- `Assets/` - Your game assets and scripts
- `ProjectSettings/` - Project configuration
- `Packages/` - Package dependencies

## What Gets Committed

### ✅ Included (Committed)

- **Code**: All `.cs` scripts in `Assets/Simulated Assemblies/Scripts/`
- **Tutorials**: All `.md` files in `docs/tutorials/`
- **Assets**: All assets in `Assets/` folder (unless using Git LFS)
- **Project Settings**: `ProjectSettings/` folder
- **Package Manifest**: `Packages/manifest.json` and `Packages/packages-lock.json`
- **Meta Files**: All `.meta` files (CRITICAL - don't ignore these!)
- **Documentation**: README.md and other documentation files

### ❌ Excluded (Not Committed)

- **Library/**: Auto-generated by Unity
- **Temp/**: Temporary files
- **Build/**: Build outputs
- **Logs/**: Unity logs
- **UserSettings/**: User-specific settings
- **IDE Files**: `.vs/`, `.vscode/`, `.idea/`
- **OS Files**: `.DS_Store`, `Thumbs.db`

## Initial Git Setup

### 1. Initialize Git Repository

```bash
# Navigate to your project root
cd "/path/to/Game Assemblies"

# Initialize Git repository
git init

# Add the .gitignore file first
git add .gitignore
git commit -m "Add Unity .gitignore"
```

### 2. Stage Your Files

```bash
# Check what will be committed
git status

# Add all files (respecting .gitignore)
git add .

# Review what's staged
git status
```

### 3. Make Your First Commit

```bash
git commit -m "Initial commit: Game Assemblies library with tutorials"
```

## Recommended Git Workflow

### Branching Strategy

```bash
# Create a branch for new features
git checkout -b feature/new-tutorial

# Make your changes
# ... edit files ...

# Commit changes
git add .
git commit -m "Add tutorial about stations"

# Push to GitHub
git push origin feature/new-tutorial
```

### Commit Messages

Use clear, descriptive commit messages:

```bash
# Good commit messages
git commit -m "Add tutorial 02: Stations and Resources"
git commit -m "Fix playerController null reference exception"
git commit -m "Update editor menu items to 'Game Assemblies'"

# Bad commit messages
git commit -m "update"
git commit -m "fix"
git commit -m "changes"
```

## GitHub Setup

### 1. Create GitHub Repository

1. Go to GitHub and create a new repository
2. **Don't** initialize with README (you already have one)
3. Copy the repository URL

### 2. Connect Local Repository

```bash
# Add remote repository
git remote add origin https://github.com/yourusername/game-assemblies.git

# Verify remote
git remote -v

# Push to GitHub
git push -u origin main
# or
git push -u origin master
```

## Handling Large Files

If your project contains large binary assets (textures, audio, 3D models), consider using **Git LFS**:

### Setup Git LFS

```bash
# Install Git LFS (if not already installed)
# macOS: brew install git-lfs
# Windows: Download from https://git-lfs.github.com/

# Initialize Git LFS in your repository
git lfs install

# Track large file types
git lfs track "*.psd"
git lfs track "*.png"
git lfs track "*.wav"
git lfs track "*.fbx"

# Commit the .gitattributes file
git add .gitattributes
git commit -m "Configure Git LFS for large assets"
```

## Common Issues and Solutions

### Issue: Library/ folder is being tracked

**Solution**: Remove it from Git tracking:

```bash
git rm -r --cached Library/
git commit -m "Remove Library folder from tracking"
```

### Issue: Meta files are missing

**Solution**: Ensure Unity settings are correct (see above) and that `.meta` files are not ignored in `.gitignore`.

### Issue: Merge conflicts in scenes

**Solution**: 
- Use prefabs instead of editing scenes directly when possible
- If conflicts occur, use Unity's merge tool or manually resolve YAML conflicts
- Consider using scene merging tools or locking scenes during active development

### Issue: Repository is too large

**Solution**:
- Use Git LFS for large binary files
- Remove large files from history if already committed:
  ```bash
  git filter-branch --tree-filter 'rm -rf path/to/large/file' HEAD
  ```

## Best Practices

1. **Commit Often**: Make small, logical commits
2. **Test Before Committing**: Ensure your code compiles and works
3. **Write Clear Messages**: Describe what and why, not how
4. **Don't Commit Generated Files**: Let Unity regenerate them
5. **Keep Meta Files**: Never ignore `.meta` files
6. **Use Branches**: Work on features in separate branches
7. **Review Before Pushing**: Check `git status` and `git diff` before committing

## Useful Git Commands

```bash
# Check status
git status

# View changes
git diff

# View commit history
git log --oneline

# Undo last commit (keep changes)
git reset --soft HEAD~1

# Discard local changes
git checkout -- <file>

# See what files are ignored
git status --ignored
```

## Additional Resources

- [Unity Version Control Guide](https://docs.unity3d.com/Manual/UnityVersionControl.html)
- [Git Documentation](https://git-scm.com/doc)
- [GitHub Guides](https://guides.github.com/)
- [Git LFS Documentation](https://git-lfs.github.com/)

---

**Note**: This setup focuses on code and tutorials. If you need to include large binary assets, consider using Git LFS or a separate asset hosting solution.
